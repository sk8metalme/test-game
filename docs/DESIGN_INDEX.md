# テトリス生成AI - 設計書インデックス

## 📋 設計書概要

本プロジェクトの包括的な設計ドキュメントのインデックスです。各設計書は相互に関連し合い、プロジェクト全体の技術的基盤を形成しています。

## 📚 設計書一覧

### 1. [詳細設計書](./DESIGN_SPECIFICATION.md)
- **概要**: プロジェクト全体のアーキテクチャ設計
- **内容**: オニオンアーキテクチャ、層構造、ディレクトリ構成
- **対象者**: アーキテクト、リードデベロッパー
- **重要度**: ⭐⭐⭐⭐⭐

### 2. [コンポーネント設計書](./COMPONENT_DESIGN.md)
- **概要**: 各クラス・モジュールの詳細仕様
- **内容**: Board、Tetromino、GameState等の実装詳細
- **対象者**: 開発者、テスト設計者
- **重要度**: ⭐⭐⭐⭐⭐

### 3. [インターフェース設計書](./INTERFACE_DESIGN.md)
- **概要**: API仕様とデータ構造定義
- **内容**: IRenderer、IInputHandler等のインターフェース
- **対象者**: 開発者、統合テスト担当
- **重要度**: ⭐⭐⭐⭐

### 4. [UI/UX設計書](./UI_UX_DESIGN.md)
- **概要**: ユーザーインターフェースとエクスペリエンス設計
- **内容**: レイアウト、コンポーネント、アニメーション仕様
- **対象者**: フロントエンド開発者、デザイナー
- **重要度**: ⭐⭐⭐⭐

### 5. [データフロー設計書](./DATA_FLOW_DESIGN.md)
- **概要**: 状態管理とイベントフロー設計
- **内容**: データフロー、状態管理、イベントシステム
- **対象者**: 開発者、システム設計者
- **重要度**: ⭐⭐⭐⭐

## 🏗️ アーキテクチャ概要図

```
┌─────────────────────────────────────────────┐
│              Presentation Layer              │
│  ┌─────────────────────────────────────┐    │
│  │           Application Layer         │    │
│  │  ┌─────────────────────────────┐    │    │
│  │  │         Core Domain         │    │    │
│  │  │                             │    │    │
│  │  │  - Board                    │    │    │
│  │  │  - Tetromino                │    │    │
│  │  │  - GameState                │    │    │
│  │  │  - Domain Services          │    │    │
│  │  │                             │    │    │
│  │  └─────────────────────────────┘    │    │
│  │                                     │    │
│  │  - Use Cases                        │    │
│  │  - Application Services             │    │
│  │  - Interfaces (Ports)              │    │
│  │                                     │    │
│  └─────────────────────────────────────┘    │
│                                             │
│  - Controllers                              │
│  - Views                                    │
│  - Infrastructure Adapters                 │
│                                             │
└─────────────────────────────────────────────┘
```

## 🎯 設計原則

### 1. オニオンアーキテクチャ
- **依存性逆転**: 内側の層は外側の層に依存しない
- **関心の分離**: 各層は明確に定義された責任を持つ
- **テスタビリティ**: 全層が独立してテスト可能

### 2. SOLID原則
- **S**: Single Responsibility Principle
- **O**: Open/Closed Principle  
- **L**: Liskov Substitution Principle
- **I**: Interface Segregation Principle
- **D**: Dependency Inversion Principle

### 3. DDD (Domain-Driven Design)
- **エンティティ**: ビジネスロジックの核心
- **値オブジェクト**: 不変なデータ構造
- **ドメインサービス**: ドメイン固有の操作

## 📊 技術スタック

### フロントエンド
- **HTML5**: セマンティックマークアップ
- **CSS3**: モダンスタイリング、アニメーション
- **JavaScript (ES6+)**: Pure JavaScript、モジュール化

### テスト
- **Jest**: 単体テスト、統合テスト
- **jsdom**: DOM シミュレーション
- **Testing Library**: ユーザー中心のテスト

### ツール
- **ESLint**: コード品質管理
- **Prettier**: コードフォーマット
- **Webpack**: モジュールバンドル（後期導入）

## 🔄 開発フロー

### 1. 設計フェーズ（完了）
- [x] アーキテクチャ設計
- [x] コンポーネント設計
- [x] インターフェース設計
- [x] UI/UX設計
- [x] データフロー設計

### 2. 実装フェーズ（次のステップ）
- [ ] コアエンティティ実装
- [ ] ドメインサービス実装
- [ ] アプリケーションサービス実装
- [ ] インフラストラクチャ実装
- [ ] プレゼンテーション実装

### 3. テストフェーズ
- [ ] 単体テスト実装
- [ ] 統合テスト実装
- [ ] E2Eテスト実装
- [ ] パフォーマンステスト

### 4. 最適化フェーズ
- [ ] パフォーマンス最適化
- [ ] アクセシビリティ対応
- [ ] ブラウザ互換性確保

## 📖 ドキュメント読み方ガイド

### 新規参加者向け
1. **詳細設計書** → アーキテクチャ全体の理解
2. **コンポーネント設計書** → 実装対象の理解
3. **インターフェース設計書** → API仕様の理解

### 開発者向け
1. **コンポーネント設計書** → 実装詳細の確認
2. **インターフェース設計書** → 連携仕様の確認
3. **データフロー設計書** → 状態管理の理解

### デザイナー向け
1. **UI/UX設計書** → ビジュアル仕様の確認
2. **詳細設計書** → 技術制約の理解

## 🚀 実装ガイドライン

### コーディング規約
- **命名規則**: キャメルケース（関数、変数）、パスカルケース（クラス）
- **ファイル構成**: 1ファイル1クラス原則
- **コメント**: JSDoc形式でのドキュメント化
- **エラーハンドリング**: 明示的なエラー処理

### テスト戦略
- **TDD**: テスト先行開発
- **カバレッジ**: 80%以上を目標
- **ユニットテスト**: 各関数・メソッドの個別テスト
- **統合テスト**: コンポーネント間連携テスト

### パフォーマンス要件
- **フレームレート**: 60 FPS安定動作
- **応答性**: 入力遅延 < 16ms
- **メモリ**: 50MB以下での安定動作
- **起動時間**: 1秒以下

## 📝 更新履歴

### v1.0.0 (2024-12-19)
- 初版設計書完成
- 全5つの設計書作成
- アーキテクチャ基盤確立

### 次回更新予定
- 実装進捗に応じた設計書更新
- テスト結果による設計修正
- パフォーマンス要件の詳細化

## 🤝 貢献ガイド

### 設計書の更新
1. 変更箇所の明確化
2. 影響範囲の分析
3. レビュープロセスの実行
4. ドキュメントの更新

### 実装との整合性
- 実装時の設計からの逸脱は要文書化
- 重要な変更は設計書への反映必須
- 定期的な設計-実装間の整合性確認

---

**この設計書群により、高品質で保守性の高いテトリスゲームの開発基盤が確立されました。**

各設計書は相互に関連し合い、プロジェクト全体の成功を支える重要な文書です。実装フェーズでは、これらの設計に基づいて段階的な開発を進めてください。
