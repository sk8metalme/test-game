# タスク追跡システム

## 現在のスプリント: Week 1 - 基盤開発

### フェーズ1: エンティティ層実装（Day 1-2）

#### 🔴 高優先度タスク

**TASK-001: Board.js 実装**
- **担当**: @tdd-development-expert
- **期限**: Day 1
- **状態**: 📋 計画中
- **説明**: ゲームボード（20x10グリッド）の管理クラス実装
- **成果物**:
  - [ ] `src/core/entities/Board.js`
  - [ ] グリッド初期化機能
  - [ ] セル状態管理機能
  - [ ] ライン検知・削除機能
  - [ ] 衝突検知機能
- **テスト要件**:
  - [ ] 初期化テスト
  - [ ] セル操作テスト  
  - [ ] ライン削除テスト
  - [ ] 衝突検知テスト
- **受入基準**:
  - [ ] 全単体テストパス
  - [ ] カバレッジ90%以上
  - [ ] ESLint違反なし

**TASK-002: Tetromino.js 実装**
- **担当**: @tdd-development-expert
- **期限**: Day 1
- **状態**: 📋 計画中
- **説明**: テトロミノピース（7種類）の管理クラス実装
- **成果物**:
  - [ ] `src/core/entities/Tetromino.js`
  - [ ] 7種類のピース定義
  - [ ] 回転機能（4方向）
  - [ ] 位置管理機能
  - [ ] 色管理機能
- **テスト要件**:
  - [ ] 全ピース形状テスト
  - [ ] 回転機能テスト
  - [ ] 位置管理テスト
  - [ ] 境界値テスト
- **受入基準**:
  - [ ] 全単体テストパス
  - [ ] 7種類全ピース動作確認
  - [ ] 回転動作正常

**TASK-003: GameState.js 実装**
- **担当**: @tdd-development-expert
- **期限**: Day 2
- **状態**: 📋 計画中
- **説明**: ゲーム状態管理クラス実装
- **成果物**:
  - [ ] `src/core/entities/GameState.js`
  - [ ] スコア管理
  - [ ] レベル管理
  - [ ] ゲーム状態管理（MENU/PLAYING/PAUSED/GAME_OVER）
  - [ ] 統計情報管理
- **テスト要件**:
  - [ ] 状態遷移テスト
  - [ ] スコア計算テスト
  - [ ] レベル進行テスト
  - [ ] 統計更新テスト
- **受入基準**:
  - [ ] 状態遷移が正常
  - [ ] スコア計算が正確
  - [ ] 全テストパス

#### 🟡 中優先度タスク

**TASK-004: テストユーティリティ改善**
- **担当**: @test-verification-expert
- **期限**: Day 2
- **状態**: 📋 計画中
- **説明**: エンティティテスト用のユーティリティ関数追加
- **成果物**:
  - [ ] `tests/utils/entity-helpers.js`
  - [ ] モックデータ生成関数
  - [ ] アサーションヘルパー
  - [ ] テスト用定数定義

**TASK-005: プロジェクト構造セットアップ**
- **担当**: @project-manager-expert
- **期限**: Day 1
- **状態**: 📋 計画中
- **説明**: オニオンアーキテクチャに従ったディレクトリ構造構築
- **成果物**:
  - [ ] `src/` ディレクトリ構造
  - [ ] 各層のディレクトリ作成
  - [ ] README.md 更新

### フェーズ2: ユースケース層実装（Day 3-4）

#### 🔴 高優先度タスク

**TASK-006: GameLogic.js 実装**
- **担当**: @tdd-development-expert
- **期限**: Day 3
- **状態**: ⏳ 待機中
- **説明**: コアゲームロジックの実装
- **前提条件**: TASK-001, TASK-002, TASK-003 完了
- **成果物**:
  - [ ] `src/core/usecases/GameLogic.js`
  - [ ] ピース移動ロジック
  - [ ] 回転ロジック
  - [ ] ライン削除ロジック
  - [ ] ゲームオーバー判定

**TASK-007: ScoreManager.js 実装**
- **担当**: @tdd-development-expert
- **期限**: Day 3
- **状態**: ⏳ 待機中
- **説明**: スコア計算とレベル管理システム
- **成果物**:
  - [ ] `src/core/usecases/ScoreManager.js`
  - [ ] ライン削除スコア計算
  - [ ] ソフト/ハードドロップスコア
  - [ ] レベル進行システム
  - [ ] ボーナススコア計算

**TASK-008: CollisionDetector.js 実装**
- **担当**: @tdd-development-expert
- **期限**: Day 4
- **状態**: ⏳ 待機中
- **説明**: 衝突検知システムの実装
- **成果物**:
  - [ ] `src/core/usecases/CollisionDetector.js`
  - [ ] ピース-ボード衝突検知
  - [ ] ピース-ピース衝突検知
  - [ ] 境界衝突検知
  - [ ] 回転時衝突検知

### フェーズ3: インフラストラクチャ層実装（Day 5-7）

#### 🔴 高優先度タスク

**TASK-009: CanvasRenderer.js 実装**
- **担当**: @tdd-development-expert
- **期限**: Day 5
- **状態**: ⏳ 待機中
- **説明**: Canvas描画エンジンの実装
- **成果物**:
  - [ ] `src/infrastructure/rendering/CanvasRenderer.js`
  - [ ] ボード描画機能
  - [ ] ピース描画機能
  - [ ] UI要素描画機能
  - [ ] アニメーション機能

**TASK-010: KeyboardHandler.js 実装**
- **担当**: @tdd-development-expert
- **期限**: Day 6
- **状態**: ⏳ 待機中
- **説明**: キーボード入力処理システム
- **成果物**:
  - [ ] `src/infrastructure/input/KeyboardHandler.js`
  - [ ] キー入力マッピング
  - [ ] DAS（Delayed Auto Shift）実装
  - [ ] 入力バッファリング
  - [ ] キーリピート処理

**TASK-011: LocalStorageAdapter.js 実装**
- **担当**: @tdd-development-expert
- **期限**: Day 7
- **状態**: ⏳ 待機中
- **説明**: ローカルストレージ管理システム
- **成果物**:
  - [ ] `src/infrastructure/storage/LocalStorageAdapter.js`
  - [ ] 高スコア保存機能
  - [ ] 設定保存機能
  - [ ] データ検証機能
  - [ ] エラーハンドリング

## 週次マイルストーン

### Week 1 完了目標
- [ ] 全エンティティクラス実装完了
- [ ] 全ユースケースクラス実装完了
- [ ] 基本インフラストラクチャ実装完了
- [ ] 単体テスト実装完了（カバレッジ80%以上）
- [ ] コード品質基準クリア

### Week 1 デモ内容
1. ボード初期化とピース配置
2. ピース移動・回転デモ
3. ライン削除デモ
4. スコア計算デモ
5. テスト実行結果

## リスク管理

### 現在のリスク項目

**RISK-001: テスト実装の遅延**
- **確率**: 中
- **影響度**: 高
- **対策**: TDDアプローチの徹底、テストファースト開発
- **責任者**: @test-verification-expert

**RISK-002: Canvas API習得時間**
- **確率**: 低
- **影響度**: 中
- **対策**: 早期プロトタイプ作成、参考資料準備
- **責任者**: @tdd-development-expert

**RISK-003: パフォーマンス問題**
- **確率**: 中
- **影響度**: 高
- **対策**: 早期パフォーマンステスト実装
- **責任者**: @test-verification-expert

## ブロッカー

### 現在のブロッカー
- なし

### 解決済みブロッカー
- なし

## 週次レビュー準備

### Day 7 レビュー項目
1. **進捗報告**
   - [ ] 計画対実績比較
   - [ ] 完了タスク一覧
   - [ ] 遅延タスクと理由

2. **品質メトリクス**
   - [ ] テストカバレッジレポート
   - [ ] バグ発見・修正件数
   - [ ] コード品質スコア

3. **次週計画**
   - [ ] Week 2 詳細タスク計画
   - [ ] リソース配分調整
   - [ ] リスク対策更新

## 自動化ツール設定

### GitHub Actions Workflow
- [ ] **WORKFLOW-001**: プルリクエスト時の自動テスト
- [ ] **WORKFLOW-002**: マージ時の自動デプロイ
- [ ] **WORKFLOW-003**: 週次品質レポート生成
- [ ] **WORKFLOW-004**: 依存関係脆弱性チェック

### Pre-commit Hooks
- [ ] **HOOK-001**: ESLint チェック
- [ ] **HOOK-002**: Prettier フォーマット
- [ ] **HOOK-003**: テスト実行
- [ ] **HOOK-004**: コミットメッセージ検証

---

**最終更新**: 2024年12月19日  
**次回更新予定**: 毎日EOD（End of Day）
